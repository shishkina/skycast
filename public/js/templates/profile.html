<div ng-controller="SearchController as profile" ng-init="profile.load()" class="container">
  <div class="row">
    <form class="col s12 m6">
      <h3 class="flow-text">Search for weather:</h3>
      <div class="input-field">
        <input ng-model="profile.searchFor" placeholder="New York City or 10001" id="location" type="text">
        <label for="location">City or Zipcode</label>
      </div>
      <button ng-click="profile.searchWeather()" class="btn waves-effect waves-light">
        Search!
      </button>
    </form>
    <div class="card-panel white col s12 m6">
      <h3 class="flow-text">Past Searches:</h3>
      <ul class="collection" style="height:150px;overflow:scroll;">
        <li ng-repeat="query in profile.getUser().getQueries() track by $index" class="collection-item">{{query}}</li>
      </ul>
    </div>
  </div>
  <div class="row">
    <div class="col s12 m6">
      <div class="card-panel teal">
        <h4 class="white-text">Current weather:</h4>
        <h5 class="white-text">{{profile.location}}</h5>
        <span class="white-text">
          <p> {{profile.getWeater().currently.summary}} </p>
          <p>Temperature: {{profile.getWeather().currently.temperature}} &#8457</p>
          <p>Feels Like:  {{profile.getWeather().currently.apparentTemperature}} &#8457</p>
        </span>
      </div>
    </div>
    <div class="col s12 m6">
      <div class="card-panel teal">
        <h4 class="white-text">Looking Ahead:</h4>
        <span class="white-text">
          <p> {{profile.weather.daily.summary}} </p>
          <p>Max temperature tomorrow: {{profile.getWeather().daily.data[0].temperatureMax}} &#8457</p>
          <p>Min temperature tomorrow: {{profile.getWeather().daily.data[0].temperatureMin}} &#8457</p>
        </span>
      </div>
    </div>
  </div>
</div>
